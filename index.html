<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Calculadora de Quinhão</title>

<style>
body{
    font-family: Arial, sans-serif;
    background-color: #f4f6f9;
    padding: 20px;
}

.wrapper{
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
}

.container{
    background: white;
    padding: 25px;
    border-radius: 10px;
    width: 420px;
    box-shadow: 0px 0px 15px rgba(0,0,0,0.1);
}

h2{
    text-align: center;
}

input, select{
    width: 95%;
    padding: 8px;
    margin: 6px 0;
    border-radius: 5px;
    border: 1px solid #ccc;
}

button{
    background-color: #003366;
    color: white;
    padding: 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
}

button:hover{
    background-color: #0055aa;
}

.resultado{
    margin-top: 15px;
    font-weight: bold;
    color: #003366;
}

.hidden{
    display: none;
}
</style>
</head>

<body>
<div class="wrapper">

<!-- FORMULÁRIO 1 -->
<div class="container">

    
<h2>Cálculo do Quinhão</h2>

<label>Valor Total (R$)</label>
<input type="number" id="valor">

<label>Forma</label>
<select id="modo" onchange="alterarModo()">
<option value="fracao">Fração</option>
<option value="porcentagem">Porcentagem</option>
</select>

<div id="areaFracao">
<label>Numerador</label>
<input type="number" id="numerador">

<label>Denominador</label>
<input type="number" id="denominador">
</div>

<div id="areaPorcentagem" class="hidden">
<label>Porcentagem (%)</label>
<input type="number" id="porcentagem">
</div>

<button onclick="calcular()">Calcular</button>
<div class="resultado" id="resultado"></div>
</div>


<!-- FORMULÁRIO 2 (INVERSO) -->
<div class="container">
<h2>Cálculo Inverso</h2>

<label>Valor Total (R$)</label>
<input type="number" id="valorTotal2">

<label>Valor da Parte (R$)</label>
<input type="number" id="valorParte">

<button onclick="calcularInverso()">Calcular</button>

<div class="resultado" id="resultado2"></div>
</div>

</div>

<script>

function alterarModo(){
    let modo = document.getElementById("modo").value;

    if(modo === "fracao"){
        document.getElementById("areaFracao").classList.remove("hidden");
        document.getElementById("areaPorcentagem").classList.add("hidden");
    }else{
        document.getElementById("areaFracao").classList.add("hidden");
        document.getElementById("areaPorcentagem").classList.remove("hidden");
    }
}

function calcular(){
    let valor = parseFloat(document.getElementById("valor").value);
    let modo = document.getElementById("modo").value;
    let resultado = 0;

    if(!valor){
        alert("Informe o valor total!");
        return;
    }

    if(modo === "fracao"){
        let n = parseFloat(document.getElementById("numerador").value);
        let d = parseFloat(document.getElementById("denominador").value);

        if(!n || !d){
            alert("Preencha numerador e denominador!");
            return;
        }

        resultado = valor * (n/d);

    }else{
        let p = parseFloat(document.getElementById("porcentagem").value);

        if(!p){
            alert("Informe a porcentagem!");
            return;
        }

        resultado = valor * (p/100);
    }

    document.getElementById("resultado").innerHTML =
        "Resultado: " + resultado.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
}


function calcularInverso(){
    let total = parseFloat(document.getElementById("valorTotal2").value);
    let parte = parseFloat(document.getElementById("valorParte").value);

    if(!total || !parte){
        alert("Preencha ambos os valores!");
        return;
    }

    let porcentagem = (parte / total) * 100;

    // fração simplificada
    let numerador = parte;
    let denominador = total;

    function mdc(a,b){
        return b ? mdc(b, a % b) : a;
    }

    let divisor = mdc(numerador, denominador);

    numerador /= divisor;
    denominador /= divisor;

    document.getElementById("resultado2").innerHTML =
        "Porcentagem: " + porcentagem.toFixed(2) + "%<br>" +
        "Fração equivalente: " + numerador + "/" + denominador;
}

</script>

</body>
</html>
